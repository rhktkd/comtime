<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>시간표</title>
    <!-- Tailwind CSS CDN을 사용하여 모바일 친화적이고 반응형인 디자인을 적용합니다. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- school.js에서 jQuery를 사용하므로, jQuery 라이브러리를 추가합니다. -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawR8zF0Wp459eP55sB6wA6P6B6wA6P6wA6P6" crossorigin="anonymous"></script>
    <style>
        /* Inter 폰트를 사용하여 가독성을 높입니다. */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fc;
        }

        /* 테이블 스타일 및 컴시간 JS에서 사용하는 클래스들을 CSS로 정의합니다. */
        .timetable-table {
            width: 100%;
            table-layout: fixed;
        }

        .timetable-table td, .timetable-table th {
            border: 1px solid #e2e8f0;
            padding: 8px;
            text-align: center;
            font-size: 0.75rem; /* 모바일에서 글자가 잘 보이도록 크기를 조정합니다. */
        }
        
        /* 모바일 화면에서 테이블이 삐져나가지 않도록 가로 스크롤을 허용합니다. */
        .table-responsive {
            overflow-x: auto;
        }

        /* school.js에 정의된 클래스들에 대한 스타일링 */
        .내용, .변경, .내용2, .내용3, .내용4 {
            border-width: 1px;
            border-color: #e2e8f0;
            padding: 4px;
        }

        .내용, .내용2, .내용3, .내용4 {
            background-color: #ffffff;
        }

        .변경 {
            background-color: #fffbeb;
            color: #d97706;
            font-weight: bold;
        }

        .교시 {
            background-color: #e2e8f0;
            font-weight: bold;
        }
        
        .제목 {
            background-color: #bfdbfe;
            font-weight: bold;
        }
    </style>
</head>
<body class="p-4 bg-gray-100">

    <!-- 메인 컨테이너: 중앙 정렬 및 여백을 설정하여 모바일과 데스크톱 모두 보기 좋게 만듭니다. -->
    <div class="container mx-auto p-4 md:p-8 bg-white rounded-xl shadow-lg">
        
        <!-- 헤더 섹션: 학교명과 수정일을 표시합니다. -->
        <header class="flex flex-col items-center justify-between mb-6">
            <h1 id="scnm" class="text-3xl font-bold text-gray-800 text-center mb-2">시간표</h1>
            <span id="수정일" class="text-sm text-gray-500"></span>
        </header>

        <!-- 시간표 열람 섹션: 학교가 선택된 후 표시됩니다. (초기에는 숨겨짐) -->
        <div id="시간표열람" class="hidden">
            <!-- 날짜 및 학급 선택 드롭다운 -->
            <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4 mb-6">
                <div class="flex items-center space-x-2">
                    <label for="nal" class="font-medium text-gray-700">날짜:</label>
                    <select id="nal" name="nal" onchange="nal_change()" class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"></select>
                </div>

                <div class="flex items-center space-x-2">
                    <label for="ba" class="font-medium text-gray-700">학급:</label>
                    <select id="ba" name="ba" onchange="ba_change()" class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 w-full"></select>
                </div>
            </div>

            <!-- 개인 시간표가 표시되는 영역입니다. -->
            <div id="hour" class="table-responsive w-full mb-6">
                <!-- 자료944 함수가 여기에 테이블을 생성합니다. -->
            </div>
            
            <!-- 학년 전체 시간표가 표시되는 영역입니다. -->
            <div id="hour2" class="table-responsive w-full">
                <!-- 학년시간표출력 함수가 여기에 테이블을 생성합니다. -->
            </div>

            <!-- 컴시간 전달사항 및 학교 전달사항 메시지가 표시되는 영역입니다. -->
            <div id="mesg" class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg"></div>
            <div id="mesg2" class="mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg"></div>
        </div>

        <!-- 학교 찾기 섹션: 초기 화면 또는 학교가 선택되지 않았을 때 표시됩니다. (초기에는 숨겨짐) -->
        <div id="학교찾기" class="hidden">
            <div class="flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4 mb-6">
                <input type="text" id="sc" name="sc" placeholder="학교명 검색" class="w-full sm:w-auto p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                <button onclick="sc2_search()" class="w-full sm:w-auto px-6 py-3 bg-blue-500 text-white font-bold rounded-md shadow hover:bg-blue-600 transition-colors duration-200">검색</button>
            </div>
            
            <div class="table-responsive">
                <table id="학교명단검색" class="w-full table-auto border-collapse">
                    <!-- 학교명단_출력하기 함수가 여기에 테이블을 생성합니다. -->
                </table>
            </div>

            <div id="mesg3" class="mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg text-sm"></div>
        </div>
        
    </div>

    <!-- 모든 HTML 요소가 로드된 후 school.js 스크립트를 로드합니다. -->
    <script src="school.js"></script>

</body>
</html>
